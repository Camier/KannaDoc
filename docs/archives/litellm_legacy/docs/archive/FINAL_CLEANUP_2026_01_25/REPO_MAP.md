# Repo Map (LiteLLM)

## Overview
- Purpose: LiteLLM proxy deployment with optional TUI dashboard and operational probes.
- SSOT: `docs/OPERATIONAL_BASELINE.md`.
- Generated artifacts: `state/` and `docs/generated/` are regenerated by scripts and timers.

## Entry Points & Services
- Proxy launcher: `docker-compose.yml`
- Health endpoints: public routes in `config.yaml` (`/healthz`, `/readyz`, `/health/liveliness`, `/health/readiness`); separate health app on port `4001` when enabled

## Config & Environment
- Primary config: `config.yaml`
- Environment templates: `.env.example` (full) and `.env.docker.example` (minimal)
- DB config seeding:
  - Not used in this deployment (models are in `config.yaml`).

## Runtime Data & Artifacts
- Runtime outputs: `state/`, `logs/`
- Generated docs: `docs/generated/`
- Scan logs/artifacts: `artifacts/`

## Scripts & Operational Tooling
- Health and probes: `bin/health_check.py`, `bin/health_check_docker.sh`, `bin/probe_models.py`, `bin/probe_capabilities.py`, `bin/probe_capabilities_report.py`
- Inventory + audits: `bin/model_inventory_report.py`, `bin/refresh_knowledge.sh`
- DB utilities: `bin/backup_db_docker.py`, `bin/validate_migration.sh`
- Key management: `bin/ops/virtual_key_manager.py`, `bin/ops/rotate_master_key.py`
- Local utilities: `bin/tui/dashboard.py`, `bin/tui/migrate_salt_key.py`, `bin/tui/verify_salt_migration.py`
- Optional local providers: `bin/start_llamacpp.sh`, `bin/stop_llamacpp.sh`

## Data Stores & Integrations
- Postgres: `DATABASE_URL` (keys/teams/spend tables), schema linked at `schema.prisma`
- Redis: caching + router state (`REDIS_HOST`, `REDIS_PORT`)
- Ollama Local: `OLLAMA_LOCAL_BASE` (default `127.0.0.1:11434`)
- Ollama Cloud: `OLLAMA_CLOUD_OPENAI_BASE` (default `https://ollama.com/v1`)
- vLLM: local OpenAI-compatible endpoints on `11436`–`11439`
- llama.cpp: `LLAMA_CPP_BASE` (default `127.0.0.1:8000`)
- TGI: `TGI_BASE` (default `127.0.0.1:8085`)
- Milvus (optional): `MILVUS_URI` / `MILVUS_API_BASE` (default `127.0.0.1:19530`)

## Common Ports
- Proxy: `4000`
- Health app: `4001`
- Local rerank (optional): `8079`
- Ollama local: `11434`
- vLLM: `11436`–`11439`
- Postgres: `5435` (host) / `5432` (container)
- Redis: `6380` (host) / `6379` (container)
- llama.cpp: `8000`
- TGI: `8085`
- Milvus: `19530`

## Tests
- No test suite detected in repo root (no `tests/` or `pytest.ini`).
