================================================================================
UNUSED CODE ANALYSIS REPORT
================================================================================

## PYTHON FILES SUMMARY
----------------------------------------

Unused Imports: 221 items

  /LAB/@thesis/layra/analyze_unused_code.py
    Line os: 8
    Line sys: 10
    Line List: 12
    Line Set: 12
    Line Tuple: 12
    Line Any: 12

  /LAB/@thesis/layra/backend/app/api/endpoints/base.py
    Line Query: 3

  /LAB/@thesis/layra/backend/app/api/endpoints/chat.py
    Line File: 3

  /LAB/@thesis/layra/backend/app/api/endpoints/sse.py
    Line re: 3

  /LAB/@thesis/layra/backend/app/api/endpoints/workflow.py
    Line File: 3
    Line UploadFile: 3

  /LAB/@thesis/layra/backend/app/core/circuit_breaker.py
    Line logging: 6

  /LAB/@thesis/layra/backend/app/core/embeddings.py
    Line Union: 7

  /LAB/@thesis/layra/backend/app/core/llm/__init__.py
    Line ChatService: 6

  /LAB/@thesis/layra/backend/app/db/cache.py
    Line logging: 6
    Line Any: 7

  /LAB/@thesis/layra/backend/app/db/milvus.py
    Line concurrent.futures: 3

  /LAB/@thesis/layra/backend/app/db/ultils.py
    Line ObjectId: 1
    Line logger: 2

  /LAB/@thesis/layra/backend/app/framework/app_framework.py
    Line LoggingMiddleware: 7

  /LAB/@thesis/layra/backend/app/models/conversation.py
    Line UserMessage: 4

  /LAB/@thesis/layra/backend/app/models/knowledge_base.py
    Line Any: 2
    Line Dict: 2
    Line List: 2

  /LAB/@thesis/layra/backend/app/models/user.py
    Line enum: 3
    Line beijing_time_now: 5

  /LAB/@thesis/layra/backend/app/models/workflow.py
    Line Any: 2
    Line Dict: 2
    Line List: 2
    Line UserMessage: 4

  /LAB/@thesis/layra/backend/app/schemas/user.py
    Line Field: 1

  /LAB/@thesis/layra/backend/app/utils/unoconverter.py
    Line os: 8

  /LAB/@thesis/layra/backend/app/workflow/code_scanner.py
    Line Optional: 4
    Line Tuple: 4

  /LAB/@thesis/layra/backend/app/workflow/components/__init__.py
    Line MAX_CONTEXT_SIZE: 9
    Line MAX_CONTEXT_ENTRIES: 9
    Line PROVIDER_TIMEOUTS: 9
    Line LOOP_LIMITS: 9
    Line CHECKPOINT_CONFIG: 9
    Line WorkflowCheckpointManager: 21
    Line LLMClient: 22

  /LAB/@thesis/layra/backend/app/workflow/components/checkpoint_manager.py
    Line Optional: 9

  /LAB/@thesis/layra/backend/app/workflow/components/llm_client.py
    Line Optional: 10
    Line Any: 10

  /LAB/@thesis/layra/backend/app/workflow/mcp_tools.py
    Line asyncio: 1

  /LAB/@thesis/layra/backend/app/workflow/sandbox.py
    Line shutil: 2
    Line tempfile: 5

  /LAB/@thesis/layra/backend/app/workflow/workflow_engine.py
    Line re: 4
    Line CircuitBreakerConfig: 18
    Line datetime: 20
    Line LLMClient: 23

  /LAB/@thesis/layra/backend/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/migrations_previous/env.py
    Line engine_from_config: 2
    Line AsyncEngine: 7
    Line User: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/19f5ed86d60e_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/19f5ed86d60e_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/3c4c5bdddb2c_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/migrations/versions/3c4c5bdddb2c_init_mysql.py
    Line op: 10
    Line sa: 11

  /LAB/@thesis/layra/backend/process_indigenous.py
    Line io: 4
    Line update_task_progress: 6

  /LAB/@thesis/layra/backend/scripts/change_credentials.py
    Line settings: 10

  /LAB/@thesis/layra/backend/scripts/check_migration_status.py
    Line AsyncSession: 12

  /LAB/@thesis/layra/backend/scripts/duplicate_kb.py
    Line List: 5
    Line Any: 5

  /LAB/@thesis/layra/backend/scripts/migrate_from_litellm.py
    Line logger: 14

  /LAB/@thesis/layra/backend/test_model_connectivity.py
    Line List: 10
    Line Optional: 10

  /LAB/@thesis/layra/backend/tests/conftest.py
    Line pytest: 2
    Line os: 4

  /LAB/@thesis/layra/backend/tests/integration/test_password_migration_flow.py
    Line get_password_hash: 14

  /LAB/@thesis/layra/backend/tests/test_db/test_miniodb_presigned_url.py
    Line MagicMock: 3

  /LAB/@thesis/layra/backend/tests/test_performance.py
    Line Mock: 8
    Line MagicMock: 8
    Line redis: 10

  /LAB/@thesis/layra/backend/tests/test_rag_pipeline.py
    Line MagicMock: 7
    Line VectorDBClientWrapper: 9
    Line replace_image_content: 527

  /LAB/@thesis/layra/backend/tests/test_repositories.py
    Line UserMessage: 9
    Line ConversationOutput: 9

  /LAB/@thesis/layra/backend/tests/test_repositories/__init__.py
    Line mock_db: 7
    Line mock_collection: 7
    Line repository_factory: 7
    Line conversation_repo: 7
    Line knowledge_base_repo: 7
    Line file_repo: 7
    Line sample_conversation: 7
    Line sample_knowledge_base: 7
    Line sample_file: 7
    Line sample_model_config: 7
    ... and 4 more

  /LAB/@thesis/layra/backend/tests/test_security.py
    Line Mock: 6
    Line AsyncMock: 6
    Line MagicMock: 6
    Line patch: 6
    Line time: 367
    Line datetime: 368
    Line timedelta: 368

  /LAB/@thesis/layra/backend/tests/test_security/conftest.py
    Line pytest: 2

  /LAB/@thesis/layra/backend/tests/test_security/test_password_migration.py
    Line sys: 3

  /LAB/@thesis/layra/backend/tests/test_workflow_engine.py
    Line MagicMock: 7
    Line WorkflowGraph: 9

  /LAB/@thesis/layra/diagnose.py
    Line json: 7
    Line sys: 8
    Line httpx: 76

  /LAB/@thesis/layra/docs/archives/backup_analysis/debug_model_loading.py
    Line sys: 7

  /LAB/@thesis/layra/docs/archives/backup_analysis/inspect_model.py
    Line os: 6
    Line sys: 7

  /LAB/@thesis/layra/docs/archives/backup_analysis/test_adapter_loading.py
    Line sys: 7

  /LAB/@thesis/layra/docs/archives/backup_analysis/test_model_loading.py
    Line ColQwen2_5_Processor: 13

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/model_inventory_report.py
    Line annotations: 13
    Line sys: 18

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/ops/rotate_master_key.py
    Line Tuple: 18

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/probe_capabilities.py
    Line annotations: 17
    Line dataclass: 25
    Line yaml: 34

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/probe_capabilities_report.py
    Line annotations: 8
    Line sys: 12

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/tui/dashboard.py
    Line DataTable: 4
    Line Worker: 6
    Line json: 8
    Line os: 10
    Line psutil: 11

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/tui/migrate_salt_key.py
    Line annotations: 12

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/tui/verify_salt_migration.py
    Line annotations: 9
    Line json: 11

  /LAB/@thesis/layra/model-server/colbert_service.py
    Line is_flash_attn_2_available: 8

  /LAB/@thesis/layra/scripts/archive/check_milvus_schema.py
    Line json: 10

  /LAB/@thesis/layra/scripts/archive/download_missing_weights.py
    Line shutil: 9

  /LAB/@thesis/layra/scripts/archive/download_models.py
    Line sys: 8

  /LAB/@thesis/layra/scripts/archive/executors/__init__.py
    Line BaseExecutor: 16
    Line NodeResult: 16
    Line VLMNodeExecutor: 17
    Line LLMNodeExecutor: 18
    Line CodeNodeExecutor: 19
    Line HTTPNodeExecutor: 20
    Line ConditionExecutor: 21

  /LAB/@thesis/layra/scripts/archive/executors/base_executor.py
    Line sys: 2
    Line CodeSandbox: 10

  /LAB/@thesis/layra/scripts/archive/executors/code_node_executor.py
    Line Dict: 3
    Line Any: 3
    Line logger: 8

  /LAB/@thesis/layra/scripts/archive/executors/condition_executor.py
    Line Dict: 2
    Line Any: 2
    Line List: 2

  /LAB/@thesis/layra/scripts/archive/executors/http_node_executor.py
    Line logger: 8

  /LAB/@thesis/layra/scripts/archive/executors/llm_node_executor.py
    Line ChatService: 8

  /LAB/@thesis/layra/scripts/archive/ingest_delta_host.py
    Line time: 5

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_components_quality_assessment.py
    Line Dict: 8
    Line Optional: 8

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_quality_gate_executor.py
    Line Optional: 6
    Line json: 7

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_refine_gate_node.py
    Line json: 7

  /LAB/@thesis/layra/scripts/archive/quality_assessment/quality_assessment.py
    Line json: 9
    Line re: 10

  /LAB/@thesis/layra/scripts/archive/quality_assessment/quality_assessment_utils.py
    Line List: 5
    Line json: 6

  /LAB/@thesis/layra/scripts/archive/run_thesis_workflow.py
    Line time: 4

  /LAB/@thesis/layra/scripts/check_status.py
    Line sys: 6
    Line datetime: 11

  /LAB/@thesis/layra/scripts/cloud_ingest_heavy.py
    Line np: 19
    Line Image: 20
    Line load_dataset: 22
    Line Dataset: 22
    Line snapshot_download: 25
    Line HfApi: 25
    Line shutil: 26

  /LAB/@thesis/layra/scripts/debug_milvus.py
    Line sys: 6

  /LAB/@thesis/layra/scripts/gpu_benchmark.py
    Line psutil: 17
    Line Image: 18

  /LAB/@thesis/layra/scripts/hf_job_colqwen_test.py
    Line os: 17

  /LAB/@thesis/layra/scripts/ingest_corpus_best_practice.py
    Line np: 35

  /LAB/@thesis/layra/scripts/ingest_final.py
    Line Dict: 16
    Line Any: 16
    Line asdict: 17
    Line np: 20
    Line MilvusException: 21
    Line retry: 24
    Line stop_after_attempt: 24
    Line wait_exponential: 24
    Line retry_if_exception_type: 24

  /LAB/@thesis/layra/scripts/inspect_data.py
    Line sys: 6
    Line os: 7

  /LAB/@thesis/layra/scripts/inspect_milvus.py
    Line os: 11

  /LAB/@thesis/layra/scripts/legacy_backfill_minio_images.py
    Line annotations: 32
    Line Optional: 41

  /LAB/@thesis/layra/scripts/sync_kb_metadata.py
    Line os: 4

  /LAB/@thesis/layra/scripts/test_ingestion.py
    Line datetime: 20

  /LAB/@thesis/layra/scripts/validate_env.py
    Line os: 14

  /LAB/@thesis/layra/test_sse.py
    Line sys: 4

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/check_refinement.py
    Line json: 3

Unused Functions: 277 items

  /LAB/@thesis/layra/backend/app/api/endpoints/auth.py
    Line verify_token: 27
    Line login: 32
    Line login_with_api_key: 68
    Line register: 83
    Line logout: 143

  /LAB/@thesis/layra/backend/app/api/endpoints/base.py
    Line re_name: 80
    Line bulk_delete_files: 99
    Line delete_file: 187
    Line get_knowledge_base_files: 274
    Line get_user_all_files: 295
    Line download_file: 316
    Line upload_multiple_files: 338

  /LAB/@thesis/layra/backend/app/api/endpoints/chat.py
    Line re_name: 52
    Line select_bases: 71
    Line delete_all_conversations_by_user: 188
    Line upload_multiple_files: 222

  /LAB/@thesis/layra/backend/app/api/endpoints/chatflow.py
    Line re_name: 32
    Line get_chatflows_by_user: 92
    Line delete_all_chatflows_by_user: 129

  /LAB/@thesis/layra/backend/app/api/endpoints/config.py
    Line get_selected_model: 88
    Line get_all_models: 107

  /LAB/@thesis/layra/backend/app/api/endpoints/health.py
    Line health_check: 10
    Line metrics: 18

  /LAB/@thesis/layra/backend/app/api/endpoints/sse.py
    Line chat_stream: 231
    Line get_task_progress: 44
    Line workflow_sse: 88

  /LAB/@thesis/layra/backend/app/api/endpoints/workflow.py
    Line execute_workflow: 28
    Line execute_test_code: 134
    Line execute_test_condition: 190
    Line create_workflow: 242
    Line re_name: 267
    Line delete_nodes: 375
    Line cancel_workflow: 389
    Line mcp_tool_list: 410
    Line docker_image_list: 438

  /LAB/@thesis/layra/backend/app/core/circuit_breaker.py
    Line embedding_service_circuit: 135
    Line llm_service_circuit: 146
    Line vector_db_circuit: 157
    Line mongodb_circuit: 168
    Line deepseek_reasoner_circuit: 210
    Line zhipu_llm_circuit: 221
    Line get_circuit_state: 185
    Line reset_circuit: 192
    Line open_circuit: 199

  /LAB/@thesis/layra/backend/app/core/config.py
    Line validate_settings: 111

  /LAB/@thesis/layra/backend/app/core/embeddings.py
    Line normalize_multivector: 10

  /LAB/@thesis/layra/backend/app/core/llm/chat_service.py
    Line create_chat_stream: 95

  /LAB/@thesis/layra/backend/app/core/security.py
    Line create_access_token: 72
    Line verify_username_match: 100
    Line get_current_user: 110
    Line authenticate_user: 125

  /LAB/@thesis/layra/backend/app/db/cache.py
    Line get_model_config: 157
    Line set_model_config: 162
    Line invalidate_model_config: 167
    Line get_user_data: 173
    Line set_user_data: 178
    Line invalidate_user_data: 183
    Line get_kb_metadata: 189
    Line set_kb_metadata: 194
    Line invalidate_kb_metadata: 199
    Line invalidate_all_kb_metadata: 204
    ... and 6 more

  /LAB/@thesis/layra/backend/app/db/milvus.py
    Line delete_collection: 11
    Line delete_collections_bulk: 18
    Line delete_files: 45
    Line check_collection: 58
    Line health_check: 275

  /LAB/@thesis/layra/backend/app/db/miniodb.py
    Line init_minio: 19
    Line upload_image: 58
    Line download_image_and_convert_to_base64: 122
    Line create_presigned_url: 155
    Line get_file_from_minio: 197
    Line bulk_delete: 226
    Line validate_file_existence: 269

  /LAB/@thesis/layra/backend/app/db/mongo.py
    Line get_mongo: 1669
    Line create_model_config: 125
    Line update_selected_model: 199
    Line add_model_config: 225
    Line delete_model_config: 277
    Line update_model_config: 291
    Line get_selected_model_config: 346
    Line get_all_models_config: 363
    Line create_conversation: 375
    Line get_conversation: 405
    ... and 39 more

  /LAB/@thesis/layra/backend/app/db/mysql_session.py
    Line get_mysql_session: 31
    Line close: 24

  /LAB/@thesis/layra/backend/app/db/redis.py
    Line get_token_connection: 22
    Line get_task_connection: 25
    Line get_lock_connection: 28
    Line close: 31

  /LAB/@thesis/layra/backend/app/db/ultils.py
    Line format_page_response: 5
    Line parse_aggregate_result: 16

  /LAB/@thesis/layra/backend/app/framework/app_framework.py
    Line create_router: 32
    Line register_task: 35
    Line get_app: 93

  /LAB/@thesis/layra/backend/app/rag/convert_file.py
    Line convert_file_to_images: 52
    Line save_file_to_minio: 326
    Line save_image_to_minio: 334

  /LAB/@thesis/layra/backend/app/rag/get_embedding.py
    Line get_embeddings_from_httpx: 17

  /LAB/@thesis/layra/backend/app/rag/mesage.py
    Line find_depth_parent_mesage: 30

  /LAB/@thesis/layra/backend/app/rag/provider_client.py
    Line get_llm_client: 214
    Line get_default_client: 205

  /LAB/@thesis/layra/backend/app/rag/utils.py
    Line sort_and_filter: 19
    Line update_task_progress: 30
    Line process_file: 40
    Line replace_image_content: 260

  /LAB/@thesis/layra/backend/app/utils/error_handlers.py
    Line http_exception_handler: 7
    Line general_exception_handler: 15

  /LAB/@thesis/layra/backend/app/utils/kafka_consumer.py
    Line consume_messages: 447
    Line get_health_status: 483

  /LAB/@thesis/layra/backend/app/utils/kafka_producer.py
    Line send_embedding_task: 26
    Line send_workflow_task: 56

  /LAB/@thesis/layra/backend/app/utils/middlewares.py
    Line dispatch: 9

  /LAB/@thesis/layra/backend/app/utils/prometheus_metrics.py
    Line get_metrics: 41

  /LAB/@thesis/layra/backend/app/utils/timezone.py
    Line beijing_time_now: 4

  /LAB/@thesis/layra/backend/app/utils/types.py
    Line generate: 38

  /LAB/@thesis/layra/backend/app/utils/unoconverter.py
    Line async_convert: 62

  /LAB/@thesis/layra/backend/app/utils/validation.py
    Line validate_json: 7

  /LAB/@thesis/layra/backend/app/workflow/code_scanner.py
    Line scan_code: 46

  /LAB/@thesis/layra/backend/app/workflow/components/checkpoint_manager.py
    Line save_checkpoint: 36
    Line rollback_to_checkpoint: 137
    Line list_checkpoints: 197
    Line should_checkpoint: 218

  /LAB/@thesis/layra/backend/app/workflow/components/llm_client.py
    Line call_with_retry: 135

  /LAB/@thesis/layra/backend/app/workflow/graph.py
    Line get_node: 43

  /LAB/@thesis/layra/backend/app/workflow/mcp_tools.py
    Line mcp_tools: 76
    Line mcp_list_tools: 88
    Line mcp_call_tools: 103

  /LAB/@thesis/layra/backend/app/workflow/sandbox.py
    Line delete_image: 33
    Line execute: 167

  /LAB/@thesis/layra/backend/app/workflow/utils.py
    Line replace_template: 21
    Line find_outermost_braces: 44

  /LAB/@thesis/layra/backend/app/workflow/workflow_engine.py
    Line save_state: 180
    Line load_state: 197
    Line start: 997

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/migrations_previous/versions/9ea0736c9c83_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/versions/31627c7909a4_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/versions/9ea0736c9c83_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/versions/31627c7909a4_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/versions/9ea0736c9c83_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/19f5ed86d60e_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/31627c7909a4_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/9ea0736c9c83_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/19f5ed86d60e_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/31627c7909a4_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/3c4c5bdddb2c_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/9ea0736c9c83_init_mysql.py
    Line upgrade: 21
    Line downgrade: 38

  /LAB/@thesis/layra/backend/migrations/migrations_previous/versions/c3bf723dfc19_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/migrations/versions/3c4c5bdddb2c_init_mysql.py
    Line upgrade: 21
    Line downgrade: 28

  /LAB/@thesis/layra/backend/remediate_pdf.py
    Line hset: 13
    Line hincrby: 17
    Line hget: 21

  /LAB/@thesis/layra/backend/scripts/duplicate_kb.py
    Line get_or_create_user: 41

  /LAB/@thesis/layra/backend/tests/test_rag_pipeline.py
    Line mock_stream: 382

  /LAB/@thesis/layra/backend/tests/test_repositories/fixtures.py
    Line mock_collection: 60
    Line conversation_repo: 111
    Line knowledge_base_repo: 137
    Line file_repo: 143
    Line sample_conversation: 153
    Line sample_knowledge_base: 196
    Line sample_file: 219
    Line sample_model_config: 243
    Line override_get_db: 271
    Line clean_test_db: 374

  /LAB/@thesis/layra/backend/tests/test_repositories/test_repository_factory.py
    Line mock_get_database: 149

  /LAB/@thesis/layra/docs/archives/litellm_legacy/docs/archive/FINAL_CLEANUP_2026_01_25/bin/tui/dashboard.py
    Line compose: 273
    Line on_mount: 191
    Line on_button_pressed: 157

  /LAB/@thesis/layra/model-server/colbert_service.py
    Line warmup: 103

  /LAB/@thesis/layra/model-server/model_server.py
    Line embed_text: 80
    Line embed_image: 117
    Line health_live: 161
    Line health_ready: 166
    Line healthy_check: 173

  /LAB/@thesis/layra/scripts/archive/executors/base_executor.py
    Line execute: 94

  /LAB/@thesis/layra/scripts/archive/executors/condition_executor.py
    Line execute: 17

  /LAB/@thesis/layra/scripts/archive/executors/http_node_executor.py
    Line execute: 14

  /LAB/@thesis/layra/scripts/archive/executors/llm_node_executor.py
    Line execute: 43

  /LAB/@thesis/layra/scripts/archive/executors/vlm_node_executor.py
    Line execute: 47

  /LAB/@thesis/layra/scripts/archive/qdrant/archived_qdrant.py
    Line insert_multi_vectors: 73
    Line search: 129
    Line check_collection: 181
    Line load_collection: 192
    Line delete_collections_bulk: 210
    Line delete_files: 241
    Line health_check: 276
    Line get_collection_info: 292

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_components_quality_assessment.py
    Line assess_content_quality: 21
    Line get_assessment_summary: 91

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_quality_gate_executor.py
    Line execute: 59

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_refine_gate_node.py
    Line create_refine_gate_node: 89
    Line process: 22
    Line get_condition_routing: 73

  /LAB/@thesis/layra/scripts/archive/quality_assessment/quality_assessment.py
    Line create_quality_assessment_engine: 362
    Line assess_outline_quality: 51

  /LAB/@thesis/layra/scripts/archive/quality_assessment/quality_assessment_utils.py
    Line create_quality_context_variables: 131

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/accumulate_kb_map.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/append_to_micro_outline.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/apply_patch_actions.py
    Line main: 5

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/apply_user_changes.py
    Line main: 5

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/check_refinement.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/coverage_scoring.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/export_toc_md_latex.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/flatten_subsections.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/get_axis_by_index.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/get_chapter_by_index.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/get_subsection_by_index.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/inc_chapter_index.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/inc_loop_idx.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/inc_subsection_index.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/init_loop_idx.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/merge_sources_into_micro_outline.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/normalize_and_dedup_kb_map.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/parse_macro_chapters.py
    Line main: 2

  /LAB/@thesis/layra/workflows/thesis_blueprint_minutieux/code_nodes/parse_seed_axes_json.py
    Line main: 2

Unused Classes: 100 items

  /LAB/@thesis/layra/backend/app/db/repositories/base_repository.py
    Line BaseRepository: 13

  /LAB/@thesis/layra/backend/app/framework/app_framework.py
    Line FastAPIFramework: 16

  /LAB/@thesis/layra/backend/app/models/chatflow.py
    Line ChatflowCreate: 7
    Line ChatflowRenameInput: 14
    Line ChatflowOutput: 19
    Line ChatflowSummary: 28

  /LAB/@thesis/layra/backend/app/models/conversation.py
    Line ConversationCreate: 7
    Line ConversationRenameInput: 14
    Line ConversationUpdateModelConfig: 19
    Line TurnInput: 24
    Line ConversationOutput: 39
    Line ConversationSummary: 49
    Line GetUserFiles: 58

  /LAB/@thesis/layra/backend/app/models/knowledge_base.py
    Line KnowledgeBaseCreate: 6
    Line KnowledgeBaseSummary: 10
    Line KnowledgeBaseRenameInput: 17
    Line PageResponse: 21
    Line BulkDeleteRequestItem: 28

  /LAB/@thesis/layra/backend/app/models/model_config.py
    Line ModelCreate: 16
    Line ModelUpdate: 19
    Line SelectedModelResponse: 31
    Line UpdateSelectedModelRequest: 36

  /LAB/@thesis/layra/backend/app/models/shared.py
    Line TurnOutput: 5
    Line UserMessage: 21

  /LAB/@thesis/layra/backend/app/models/user.py
    Line User: 8

  /LAB/@thesis/layra/backend/app/models/workflow.py
    Line TestFunctionCode: 7
    Line TestConditionNode: 19
    Line Workflow: 27
    Line WorkflowCreate: 44
    Line WorkflowRenameInput: 55
    Line NodesInput: 60
    Line LLMInputOnce: 66
    Line GetTools: 75

  /LAB/@thesis/layra/backend/app/schemas/auth.py
    Line Token: 5
    Line TokenData: 10
    Line Login: 14
    Line TokenSchema: 24

  /LAB/@thesis/layra/backend/app/schemas/chat_responses.py
    Line ConversationCreateResponse: 4
    Line ConversationRenameResponse: 8
    Line ConversationUploadResponse: 12
    Line StatusResponse: 17

  /LAB/@thesis/layra/backend/app/schemas/user.py
    Line UserCreate: 4
    Line UserUpdate: 10
    Line UserResponse: 16

  /LAB/@thesis/layra/backend/app/utils/middlewares.py
    Line LoggingMiddleware: 8

  /LAB/@thesis/layra/backend/app/utils/prometheus_metrics.py
    Line PrometheusMiddleware: 45

  /LAB/@thesis/layra/backend/app/utils/types.py
    Line PyObjectId: 7

  /LAB/@thesis/layra/backend/app/workflow/code_scanner.py
    Line CodeScanner: 7

  /LAB/@thesis/layra/backend/app/workflow/components/checkpoint_manager.py
    Line WorkflowCheckpointManager: 17

  /LAB/@thesis/layra/backend/app/workflow/components/llm_client.py
    Line LLMClient: 18

  /LAB/@thesis/layra/backend/app/workflow/graph.py
    Line WorkflowGraph: 51

  /LAB/@thesis/layra/backend/app/workflow/sandbox.py
    Line CodeSandbox: 13

  /LAB/@thesis/layra/backend/app/workflow/workflow_engine.py
    Line WorkflowEngine: 93

  /LAB/@thesis/layra/backend/tests/test_performance.py
    Line TestConcurrencyPerformance: 14
    Line TestCachePerformance: 88
    Line TestWorkflowPerformance: 148
    Line TestDatabasePerformance: 228
    Line TestAPIPerformance: 287
    Line TestPerformanceBenchmarks: 314

  /LAB/@thesis/layra/backend/tests/test_rag_pipeline.py
    Line TestEmbeddingGeneration: 14
    Line TestVectorSearch: 96
    Line TestRAGPipeline: 190
    Line TestChatService: 312
    Line TestRetrievalQuality: 443
    Line TestImageProcessing: 507
    Line TestPromptConstruction: 554
    Line TestErrorHandling: 599
    Line TestPerformance: 634

  /LAB/@thesis/layra/backend/tests/test_repositories.py
    Line TestConversationRepository: 17
    Line TestKnowledgeBaseRepository: 179
    Line TestFileRepository: 281
    Line TestBulkOperations: 352
    Line TestTransactionHandling: 468
    Line TestIndexOptimization: 531
    Line TestConnectionManagement: 577

  /LAB/@thesis/layra/backend/tests/test_repositories/test_repository_factory.py
    Line TestRepositoryFactory: 29
    Line TestDependencyFunctions: 129
    Line TestRepositoryUsage: 174
    Line TestFactoryPerformance: 239

  /LAB/@thesis/layra/backend/tests/test_security.py
    Line TestCodeScanner: 12
    Line TestWorkflowEngineSecurity: 181
    Line TestPasswordHashing: 290
    Line TestJWTSecurity: 337
    Line TestInputValidation: 378
    Line TestAuthenticationBypass: 418

  /LAB/@thesis/layra/backend/tests/test_workflow_engine.py
    Line TestWorkflowEngine: 12
    Line TestConditionNode: 245
    Line TestLoopNode: 416
    Line TestStateManagement: 517
    Line TestWorkflowCancellation: 605
    Line TestBreakpoints: 674

  /LAB/@thesis/layra/model-server/config.py
    Line Config: 8

  /LAB/@thesis/layra/scripts/archive/executors/base_executor.py
    Line BaseExecutor: 29

  /LAB/@thesis/layra/scripts/archive/executors/code_node_executor.py
    Line CodeNodeExecutor: 11

  /LAB/@thesis/layra/scripts/archive/executors/condition_executor.py
    Line ConditionExecutor: 10

  /LAB/@thesis/layra/scripts/archive/executors/http_node_executor.py
    Line HTTPNodeExecutor: 11

  /LAB/@thesis/layra/scripts/archive/executors/llm_node_executor.py
    Line LLMNodeExecutor: 15

  /LAB/@thesis/layra/scripts/archive/executors/vlm_node_executor.py
    Line VLMNodeExecutor: 16

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_components_quality_assessment.py
    Line QualityAssessmentEngine: 11

  /LAB/@thesis/layra/scripts/archive/quality_assessment/archived_quality_gate_executor.py
    Line QualityGateExecutor: 37

Commented Code: 49 items

  /LAB/@thesis/layra/backend/app/rag/get_embedding.py
    Line 11: # from tenacity import retry, stop_after_attempt, wait_exponential
    Line 13: #     stop=stop_after_attempt(3),
    Line 14: #     wait=wait_exponential(multiplier=1, min=4, max=10)

  /LAB/@thesis/layra/backend/app/workflow/components/__init__.py
    Line 19: # from .quality_assessment import QualityAssessmentEngine  # ARCHIVED

  /LAB/@thesis/layra/backend/app/workflow/nodes/__init__.py
    Line 12: # from .refine_gate_node import RefineGateNode, create_refine_gate_node  # ARCHI

  /LAB/@thesis/layra/backend/app/workflow/workflow_engine.py
    Line 339: # raise ValueError(f"ËäÇÁÇπ {node.node_id} Êù°‰ª∂Ë°®ËææÂºèÈîôËØØ, Êâæ‰∏çÂà∞Âá∫Âè£")
    Line 404: # while node.loop_index < int(maxCount):
    Line 432: # if self.safe_eval(condition, node.data["name"], node.node_id):
    Line 463: #     task = asyncio.create_task(self.execute_workflow(child))
    Line 538: # for child in pointer_nodes:
    Line 541: #     task = asyncio.create_task(self.execute_workflow(child))
    Line 581: #     task = asyncio.create_task(self.execute_workflow(child))
    Line 876: # if chunk.get("type") == "text":

  /LAB/@thesis/layra/backend/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/gunicorn_config.py
    Line 5: #accesslog = settings.log_file
    Line 6: #errorlog = settings.log_file

  /LAB/@thesis/layra/backend/migrations/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/migrations/migrations_previous/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/backend/migrations/migrations_previous/migrations_previous/migrations_previous/migrations_previous/migrations_previous/env.py
    Line 22: # for 'autogenerate' support
    Line 23: # from myapp import mymodel
    Line 24: # target_metadata = mymodel.Base.metadata
    Line 31: # my_important_option = config.get_main_option("my_important_option")

  /LAB/@thesis/layra/model-server/colbert_service.py
    Line 76: #     print("üöÄ Compiling model with torch.compile (mode='reduce-overhead')...")
    Line 79: #     print(f"‚ö†Ô∏è Torch compile failed: {e}")

  /LAB/@thesis/layra/scripts/archive/download_models.py
    Line 63: # if os.path.exists(docker_volume_path):
    Line 64: #     print(f"\nüì¶ Copying to Docker volume: {docker_volume_path}")
    Line 66: #     print("‚úÖ Copied to Docker volume")

  /LAB/@thesis/layra/scripts/archive/executors/__init__.py
    Line 22: # from .quality_gate_executor import QualityGateExecutor, QualityAssessment, Dec

Todo Fixme: 10 items

  /LAB/@thesis/layra/backend/app/api/endpoints/chat.py
    Line 197: # NOTE: MongoDB API is delete_conversations_by_user (delete_all_conversation doe

  /LAB/@thesis/layra/backend/app/db/mongo.py
    Line 15: # TODO: This file is 1,566 lines and needs to be split into repositories.

  /LAB/@thesis/layra/backend/app/rag/provider_client.py
    Line 22: # Note: gpt-4o-mini deprecates Feb 27, 2026 - use gpt-4o instead

  /LAB/@thesis/layra/backend/app/workflow/components/__init__.py
    Line 17: # NOTE: QualityAssessmentEngine was archived to scripts/archive/quality_assessme

  /LAB/@thesis/layra/backend/find_orphan_host.py
    Line 9: # Note: Connecting to container IP since port not exposed

  /LAB/@thesis/layra/backend/remediate_pdf.py
    Line 36: # Note: Filename might be in a sub-field or just 'filename'

  /LAB/@thesis/layra/backend/scripts/check_new_schema.py
    Line 64: # Note: Milvus 2.4+ allows multiple vector fields in one collection

  /LAB/@thesis/layra/scripts/archive/reingest_optimized.py
    Line 23: # Note: OAuth2PasswordRequestForm expects data, not json

  /LAB/@thesis/layra/scripts/legacy_backfill_minio_images.py
    Line 109: # NOTE: python list repr includes quotes => valid Milvus filter

  /LAB/@thesis/layra/scripts/validate_env.py
    Line 22: # Note: These are conservative patterns to avoid false positives

================================================================================
## TYPESCRIPT/JAVASCRIPT FILES SUMMARY
----------------------------------------

Commented Code: 5 items

  /LAB/@thesis/layra/frontend/src/app/[locale]/ai-chat/page.tsx
    Line 357: //const response = await fetch("http://192.168.1.5:8000/api/v1/sse/chat", {

  /LAB/@thesis/layra/frontend/src/components/AiChat/LeftSidebar.tsx
    Line 102: //renameChat(chat.conversationId, inputValues[index]);

  /LAB/@thesis/layra/frontend/src/middlewares/withAuth.tsx
    Line 30: //setUser({ name: data.user.username, email: data.user.email });

  /LAB/@thesis/layra/frontend/src/stores/flowStore.ts
    Line 254: // if (newTools.length === 0) {

  /LAB/@thesis/layra/frontend/src/utils/imageLoader.ts
    Line 25: // internalUrl = decodeURIComponent(internalUrl);

Todo Fixme: 1 items

  /LAB/@thesis/layra/frontend/next-env.d.ts
    Line 4: // NOTE: This file should not be edited

================================================================================
## STATISTICS
----------------------------------------
Total Python issues: 657
Total TypeScript issues: 6
Total issues: 663