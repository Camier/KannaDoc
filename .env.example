# LAYRA Environment Variables Template
# Copy this file to .env and fill in the values

# ========================
# Server Configuration
# ========================
SERVER_IP=http://localhost
DEBUG_MODE=false
LOG_LEVEL=INFO
LOG_FILE=/proc/1/fd/1
MAX_WORKERS=10

# ========================
# Database Configuration
# ========================
# MySQL (auth, users)
DB_URL=mysql+asyncmy://layra:layra_password@mysql:3306/layra_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# MySQL credentials
MYSQL_ROOT_PASSWORD=root_password_strong
MYSQL_DATABASE=layra_db
MYSQL_USER=layra
MYSQL_PASSWORD=layra_password

# ========================
# Redis Configuration
# ========================
REDIS_URL=redis:6379
REDIS_PASSWORD=redispassword_strong
REDIS_TOKEN_DB=0
REDIS_TASK_DB=1
REDIS_LOCK_DB=2

# ========================
# MongoDB Configuration
# ========================
MONGODB_URL=mongodb://testuser:testpassword@mongodb:27017
MONGODB_ROOT_USERNAME=testuser
MONGODB_ROOT_PASSWORD=testpassword
MONGODB_DB=chat_mongodb
MONGODB_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=10

# ========================
# MinIO Configuration
# ========================
MINIO_URL=http://minio:9000
MINIO_ACCESS_KEY=minio_acc_3m4n5o
MINIO_SECRET_KEY=minio_sec_6p7q8r
MINIO_BUCKET_NAME=minio-file
MINIO_IMAGE_URL_PREFIX=http://localhost:9000/minio-file

# ========================
# Milvus Configuration
# ========================
MILVUS_URI=http://milvus-standalone:19530

# ========================
# Kafka Configuration
# ========================
KAFKA_BROKER_URL=kafka:9094
KAFKA_TOPIC=task_generation
KAFKA_PARTITIONS_NUMBER=10
KAFKA_REPLICATION_FACTOR=1
KAFKA_GROUP_ID=task_consumer_group
KAFKA_RETRY_BACKOFF_MS=5000
KAFKA_SESSION_TIMEOUT_MS=30000

# ========================
# Authentication
# ========================
SECRET_KEY=your_super_secret_key_change_this_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=11520  # 8 days

# -----------------------
# Simple Auth (Solo/Dev Mode)
# -----------------------
# Enable this for simple single-user authentication (no registration, no database)
# SIMPLE_AUTH_MODE=true
# SIMPLE_API_KEY=layra-dev-key-2024
# SIMPLE_USERNAME=layra
# SIMPLE_PASSWORD=layra123

# ========================
# Model Configuration
# ========================
# Local embedding (ColQwen2.5) or Cloud (Jina)
EMBEDDING_MODEL=local_colqwen  # Options: local_colqwen, jina_embeddings_v4

# Local model path (for ColQwen2.5)
COLBERT_MODEL_PATH=/model_weights/colqwen2.5-v0.2

# Jina AI (for cloud embeddings)
JINA_API_KEY=your_jina_api_key_here
JINA_EMBEDDINGS_V4_URL=https://api.jina.ai/v1/embeddings

# Model weights download URL (HuggingFace mirror or local)
MODEL_BASE_URL=https://huggingface.co/vidore

# ========================
# Document Processing
# ========================
EMBEDDING_IMAGE_DPI=200
UNOSERVER_INSTANCES=1
UNOSERVER_HOST=unoserver
UNOSERVER_BASE_PORT=2003
UNOSERVER_BASE_UNO_PORT=3003

# ========================
# Sandbox Configuration
# ========================
SANDBOX_SHARED_VOLUME=/app/sandbox_workspace

# ========================
# Frontend Configuration
# ========================
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/api/v1
NODE_ENV=development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8090

# ========================
# NEO4J CONFIGURATION
# ========================
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_neo4j_password_here
